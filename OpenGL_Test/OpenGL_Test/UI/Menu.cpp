#include "Menu.h"
#include "../Util.h"

extern MOUSE Mouse;
extern float CameraX;
extern float CameraY;


//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

MENU::MENU()
{
	
}

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

MENU::~MENU()
{
	Clear();
}

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

void MENU::Draw()
{
	for (int i = 0; i < Elements.size(); i++)
	{
		Elements[i]->Draw();
	}
}

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

void MENU::Update()
{
	float MouseX = -CameraX * ZoomLevel + (Mouse.x) * ZoomLevel;
	float MouseY = -CameraY* ZoomLevel + (Mouse.y) * ZoomLevel;
	fprintf(stderr, "Mouse X: %f \t Camera X: %f \n", MouseX, CameraX);
	for (int i = 0; i < Elements.size(); i++)
	{
		if (Elements[i]->Intersects(MouseX, MouseY))
		{
			Elements[i]->Hover();
		}
		else
		{
			Elements[i]->Unhover();
		}
	}
}

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

void MENU::Clear()
{

}

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

void MENU::AddUIElement(UI_BASE* Element)
{
	Elements.push_back(Element);
}